select 
-- tcode.tag_id, tcode.code, tcode.desc
GROUP_CONCAT(tcode.code)
 , GROUP_CONCAT(tsrc.code)
-- , utd.uti_id
, d.doc_id, d.titre -- , d.url
-- , dT.doc_id, dT.titre -- , dT.url
, GROUP_CONCAT(u.login)
FROM flux_tagtag tt
inner join flux_tag tcode on tcode.tag_id = tt.tag_id_dst
inner join flux_tag tsrc on tsrc.tag_id = tt.tag_id_src
inner join flux_utitagdoc utd on utd.tag_id = tcode.tag_id
inner join flux_uti u on u.uti_id = utd.uti_id
inner join flux_doc dOCLC on dOCLC.doc_id = utd.doc_id 
inner join flux_doc d on d.doc_id = dOCLC.tronc 
-- left join flux_doc dT on dT.doc_id = d.tronc 
where tt.tag_id_src in (845, 846, 848)  
and d.titre != ""
and d.doc_id in (1146,292,1328,899,3443,33,1889,1188,682,785,711,1693,1852,1723,167,3713,579,762,572,49,108,18,771,1663,3563,1666,558,384,1858,1773,34,236,1193,1728,1916,1269,3674,338,590,1746,1700,1155,874,562,1570,3561,1214,1886,638,3587,398,748,4,1809,382,1166,3748,87,569,792,754,23,98,98,415,323,1124,1941,82,1760,163,1705,1980,19,102,5,232,1931,221,7,227,3753,1730,128,3598,1012,3742,3567,779,14,14,796,3676,949,1340,3635,607,818,1596,1691,1647,1207,3559,688,362,3691,789,919,520,1920,3565,3549,1201,8,1731,1750,3693,281,60,1517,64,3685,618,1893,3737,496,496,1682,47,709,670,423,240,1610,1625,1061,1365,3584,1131,690,3683,1359,1597,3554,3719,1734,3664,50,1253,1739,717,1232,983,3600,583,3608,3604,26,1478,1708,611,775,25,1719,1582,3552,3695,945,1655,1519,1475,82,3732,439,1791,822,1689,1430,1824,1685,426,152,3752,1811,1576,1127,407,1461,3606,1864,1742,3749,978,28,1658,556,1758,1694,3756,3689,322,210,558,1365,1176,3671,3724,1875,1593,41,1695,3628,22,834,430,450,398,679,3681,3568,3676,567,1153,885,3453,3710,311,3556,645,1523,1961,27,3666,1687,552,3620,3558,892,1651,271,805,869,1590,3678,1676,734,1741,759,3739)
-- and tcode.`desc` ='' -- and tdesc.code != ''
group by d.doc_id
order by d.doc_id